{"version":3,"file":"twistdebug.js","sources":["../../../../../../../src/Core/Resources/twist/debug/js/twistdebug.js"],"sourcesContent":["/*!\n * TwistPHP - An open source PHP MVC framework built from the ground up.\n * Copyright (C) 2016  Shadow Technologies Ltd.\n *\n * This program is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @author     Shadow Technologies Ltd. <contact@shadow-technologies.co.uk>\n * @license    https://www.gnu.org/licenses/gpl.html GPL License\n * @link       https://twistphp.com\n */\n\nclass twistdebug {\n\tconstructor( noConflict, arrThingsToLog = [] ) {\n\t\ttry {\n\t\t\tlet args = [\n\t\t\t\t'%c %c %c TwistPHP Debug %c %c ',\n\t\t\t\t'font-size: 15px; background: #2a5200;',\n\t\t\t\t'font-size: 17px; background: #3f7a00;',\n\t\t\t\t'color: #FFF; font-size: 18px; background: #539F00;',\n\t\t\t\t'font-size: 17px; background: #3f7a00;',\n\t\t\t\t'font-size: 15px; background: #2a5200;'\n\t\t\t];\n\n\t\t\tconsole.log.apply( console, args );\n\t\t} catch( e ) {\n\t\t\tif( console.info ) {\n\t\t\t\tconsole.info( 'TwistPHP Debug' );\n\t\t\t} else {\n\t\t\t\tconsole.log( 'TwistPHP Debug' );\n\t\t\t}\n\t\t}\n\n\t\tconst $ = ( noConflict === true ) ? window.jQuery.noConflict( true ) : window.jQuery;\n\n\t\tfor( let objErrorLog of arrThingsToLog ) {\n\t\t\tthis.error( objErrorLog.title, objErrorLog.message, objErrorLog.url, objErrorLog.line, objErrorLog.column, objErrorLog.error );\n\t\t}\n\n\t\t/*window.onerror = ( strErrorMessage, strURL, intLineNumber, intColumn, objError ) => {\n\t\t console.log( 'HAHAHAHA' );\n\t\t this.error( strErrorMessage, 'OH NOES!', strURL, intLineNumber, intColumn, objError );\n\t\t return true;\n\t\t };*/\n\n\t\tthis.setupUI();\n\t\tthis.outputExistingAJAX();\n\n\t\tconsole.info( 'TwistPHP Debug is now loaded with jQuery v.' + $.fn.jquery );\n\t}\n\n\tstatic getScript( url, integrity = null, onSuccess = () => {} ) {\n\t\tlet domScript = document.createElement( 'script' ),\n\t\t\t\tdomHead = document.getElementsByTagName( 'head' )[0],\n\t\t\t\tblDone = false;\n\n\t\tonSuccess = ( typeof integrity === 'function' ) ? integrity : ( ( typeof onSuccess === 'function' ) ? onSuccess : () => {} );\n\n\t\tdomScript.src = url;\n\t\tdomScript.crossorigin = 'anonymous';\n\t\tif( integrity !== null ) {\n\t\t\t// domScript.integrity = integrity;\n\t\t}\n\n\t\tdomScript.onload = domScript.onreadystatechange = function() {\n\t\t\tif( !blDone &&\n\t\t\t\t\t( !this.readyState ||\n\t\t\t\t\tthis.readyState === 'loaded' ||\n\t\t\t\t\tthis.readyState === 'complete' ) ) {\n\t\t\t\tblDone = true;\n\t\t\t\ttry {\n\t\t\t\t\tonSuccess();\n\t\t\t\t} catch( err ) {\n\t\t\t\t\tconsole.error( err );\n\t\t\t\t}\n\t\t\t\tdomScript.onload = domScript.onreadystatechange = null;\n\t\t\t\tdomHead.removeChild( domScript );\n\t\t\t}\n\t\t};\n\n\t\tdomHead.appendChild( domScript );\n\t}\n\n\tobjectLength( objIn ) {\n\t\tlet intLength = 0;\n\t\tfor( let mxdKey in objIn ) {\n\t\t\tif( objIn.hasOwnProperty( mxdKey ) ) {\n\t\t\t\tintLength++;\n\t\t\t}\n\t\t}\n\t\treturn intLength;\n\t}\n\n\toutputExistingAJAX() {\n\t\tif( twist.ajax ) {\n\t\t\tfor( let instance of twist.ajax.instances ) {\n\t\t\t\tfor( let request of instance.requests ) {\n\t\t\t\t\tthis.logAJAX( request );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tlogToTwist( jqsAppendTo, strColour, mxdValue, objDetails, strURL, intLineNumber, intColumn ) {\n\t\tif( mxdValue ) {\n\t\t\tlet strLogHTML = mxdValue || '',\n\t\t\t\t\tstrTitle = '',\n\t\t\t\t\tstrDetailsHTML = '';\n\n\t\t\tif( typeof mxdValue === 'object' ) {\n\t\t\t\tstrLogHTML = '<pre>' + JSON.stringify( mxdValue, undefined, 2 ) + '</pre>';\n\t\t\t}\n\n\t\t\tif( typeof objDetails === 'object' ) {\n\t\t\t\tfor( let strDetail in objDetails ) {\n\t\t\t\t\tlet strKey = strDetail.charAt( 0 ).toUpperCase() + strDetail.slice( 1 ).replace( '_', ' ' ),\n\t\t\t\t\t\t\tstrValue = ( typeof objDetails[strDetail] === 'object' ) ? '<pre>' + JSON.stringify( objDetails[strDetail], undefined, 2 ) + '</pre>' : objDetails[strDetail];\n\t\t\t\t\tstrDetailsHTML += '<dt>' + strKey + '</dt><dd>' + strValue + '</dd>';\n\t\t\t\t}\n\n\t\t\t\tstrDetailsHTML = '<dl class=\"details\">' + strDetailsHTML + '</dl>';\n\t\t\t} else {\n\t\t\t\tstrDetailsHTML = '<p class=\"details\">' + objDetails + '</p>';\n\t\t\t}\n\n\t\t\tif( strURL !== undefined ) {\n\t\t\t\tif( strURL !== '' ) {\n\t\t\t\t\tif( intLineNumber !== undefined &&\n\t\t\t\t\t\t\tintLineNumber !== '' ) {\n\t\t\t\t\t\tif( intColumn !== undefined &&\n\t\t\t\t\t\t\t\tintColumn !== '' ) {\n\t\t\t\t\t\t\tstrTitle = strURL + ', line ' + intLineNumber + ', column ' + intColumn;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tstrTitle = strURL + ', line ' + intLineNumber;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tstrTitle = strURL;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tstrTitle = 'JavaScript [' + ( new Date() ).getTime() + ']';\n\t\t\t}\n\n\t\t\tlet jqoLogBox = $( '<div class=\"twist-debug-box-' + strColour + '\" data-title=\"' + strTitle + '\"/>' ).html( strLogHTML );\n\n\t\t\tif( strDetailsHTML !== '' ) {\n\t\t\t\tjqoLogBox.append( '<div class=\"twist-debug-more-details\">' + strDetailsHTML + '</div><a href=\"#twist-debug-more-details\" class=\"twist-debug-more-details\">&ctdot;</a>' );\n\t\t\t}\n\n\t\t\t$( jqsAppendTo ).append( jqoLogBox );\n\n\t\t\treturn jqoLogBox;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t}\n\n\terror( mxdValue, strURL, intLineNumber, intColumn ) {\n\t\tlet objDetails = {\n\t\t\ttype: typeof mxdValue,\n\t\t\tlength: ( typeof mxdValue === 'object' ) ? this.objectLength( mxdValue ) : mxdValue.length\n\t\t};\n\n\t\tif( this.logToTwist( '#twist-debug-messages-list', 'red', '<p>' + mxdValue + '</p>', objDetails, strURL, intLineNumber, intColumn ) ) {\n\t\t\tlet jqoErrorCount = $( '#twist-debug-errors' );\n\n\t\t\tjqoErrorCount.attr( 'data-count', parseInt( jqoErrorCount.attr( 'data-count' ) ) + 1 );\n\t\t}\n\t}\n\n\twarn( mxdValue, strURL, intLineNumber, intColumn ) {\n\t\tlet objDetails = {\n\t\t\ttype: typeof mxdValue,\n\t\t\tlength: ( typeof mxdValue === 'object' ) ? this.objectLength( mxdValue ) : mxdValue.length\n\t\t};\n\n\t\tif( this.logToTwist( '#twist-debug-messages-list', 'yellow', '<p>' + mxdValue + '</p>', objDetails, strURL, intLineNumber, intColumn ) ) {\n\t\t\tlet jqoErrorCount = $( '#twist-debug-warnings' );\n\n\t\t\tjqoErrorCount.attr( 'data-count', parseInt( jqoErrorCount.attr( 'data-count' ) ) + 1 );\n\t\t}\n\t}\n\n\tlog( mxdValue, strURL, intLineNumber, intColumn ) {\n\t\tlet objDetails = {\n\t\t\ttype: typeof mxdValue,\n\t\t\tlength: ( typeof mxdValue === 'object' ) ? this.objectLength( mxdValue ) : mxdValue.length\n\t\t};\n\n\t\tif( this.logToTwist( '#twist-debug-messages-list', 'blue', '<p>' + mxdValue + '</p>', objDetails, strURL, intLineNumber, intColumn ) ) {\n\t\t\tlet jqoErrorCount = $( '#twist-debug-dumps' );\n\n\t\t\tjqoErrorCount.attr( 'data-count', parseInt( jqoErrorCount.attr( 'data-count' ) ) + 1 );\n\t\t}\n\t}\n\n\tlogAJAX( objRequest ) {\n\t\tlet objRequestToLog = {\n\t\t\turi: objRequest.url,\n\t\t\toptions: objRequest.options\n\t\t};\n\n\t\tif( objRequestToLog.options.body ) {\n\t\t\tobjRequestToLog.options.body = JSON.parse( objRequestToLog.options.body );\n\t\t}\n\n\t\tlet log = this.logToTwist( '#twist-debug-ajax-list', '', objRequestToLog, 'Waiting...', objRequest.options.method + ' ' + objRequest.url );\n\n\t\tif( log ) {\n\t\t\tlet jqoErrorCount = $( '#twist-debug-ajax-count' );\n\n\t\t\tjqoErrorCount.attr( 'data-count', parseInt( jqoErrorCount.attr( 'data-count' ) ) + 1 );\n\n\t\t\tobjRequest.$debug = log;\n\t\t}\n\t}\n\n\tlogFileUpload( resFile, objResponse ) {\n\t\tlet strPreview = ( objResponse.support && objResponse.support['thumb-128'] ) ? objResponse.support['thumb-128'] : objResponse.uri_preview,\n\t\t\t\tstrLogHTML = '<pre>' + JSON.stringify( objResponse, undefined, 2 ) + '</pre><div class=\"twist-debug-fileupload-preview\"><img src=\"' + strPreview + '\"></div>';\n\n\t\tif( this.logToTwist( '#twist-debug-fileupload-list', 'green', strLogHTML, resFile, resFile.name ) ) {\n\t\t\tlet jqoErrorCount = $( '#twist-debug-fileupload-count' );\n\n\t\t\tjqoErrorCount.attr( 'data-count', parseInt( jqoErrorCount.attr( 'data-count' ) ) + 1 );\n\t\t}\n\t}\n\n\tsetupUI() {\n\t\tlet jqoTwistDebugBlocks = $( '#twist-debug-blocks' ),\n\t\t\t\tjqoTwistDebugDetails = $( '#twist-debug-details' );\n\n\t\t$( '.twist-debug-box, [class^=\"twist-debug-box-\"], [class*=\" twist-debug-box-\"]' ).has( '.twist-debug-more-details' ).each(\n\t\t\t\tfunction() {\n\t\t\t\t\tlet jqoMoreDetails = $( this ).find( '.twist-debug-more-details' );\n\n\t\t\t\t\tjqoMoreDetails.after( '<a href=\"#twist-debug-more-details\" class=\"twist-debug-more-details\">&ctdot;</a>' );\n\t\t\t\t}\n\t\t);\n\t\tjqoTwistDebugBlocks.on( 'click', 'a',\n\t\t\t\tfunction( e ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tlet jqoThisBlock = $( this );\n\t\t\t\t\tif( jqoThisBlock.hasClass( 'current' ) ) {\n\t\t\t\t\t\tjqoTwistDebugDetails.removeClass( 'show' );\n\t\t\t\t\t\tjqoThisBlock.removeClass( 'current' );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tlet jqsTarget = jqoThisBlock.attr( 'href' );\n\n\t\t\t\t\t\tjqoTwistDebugDetails.addClass( 'show' ).children( 'div' ).hide().filter( jqsTarget ).show();\n\t\t\t\t\t\tjqoTwistDebugBlocks.find( 'a.current' ).removeClass( 'current' );\n\t\t\t\t\t\tjqoThisBlock.addClass( 'current' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t);\n\t\t$( '#close-twist-debug-details' ).on( 'click',\n\t\t\t\tfunction( e ) {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tjqoTwistDebugBlocks.find( 'a.current' ).removeClass( 'current' );\n\t\t\t\t\tjqoTwistDebugDetails.removeClass( 'show' );\n\t\t\t\t}\n\t\t);\n\t\tjqoTwistDebugDetails.on( 'click', 'a[href=\"#twist-debug-more-details\"]',\n\t\t\t\tfunction( e ) {\n\t\t\t\t\te.preventDefault();\n\n\t\t\t\t\t$( this ).prev( '.twist-debug-more-details' ).toggle();\n\t\t\t\t}\n\t\t);\n\t\tjqoTwistDebugDetails.find( 'table' ).wrap( '<div class=\"table-wrapper\"/>' );\n\n\t\t$( '#twist-debug' ).addClass( 'ready' );\n\t}\n}\n\n\n(function( window, undefined ) {\n\tlet blOtherJSLibrary = false,\n\t\t\tarrThingsToLog = [],\n\t\t\taddDebugToWindow = ( instance ) => {\n\t\t\t\tif( !window.twist ) {\n\t\t\t\t\twindow.twist = {debug: instance};\n\t\t\t\t} else {\n\t\t\t\t\twindow.twist.debug = instance;\n\t\t\t\t}\n\t\t\t},\n\t\t\toriginalWindowError = window.onerror;\n\n\twindow.onerror = ( strErrorMessage, strURL, intLineNumber, intColumn, objError ) => {\n\t\tarrThingsToLog.push( {\n\t\t\tmessage: '<strong>JS Error:</strong> ' + strErrorMessage,\n\t\t\turl: strURL,\n\t\t\tline: intLineNumber,\n\t\t\tcolumn: intColumn,\n\t\t\terror: objError\n\t\t} );\n\t\tconsole.error( '123' );\n\n\t\toriginalWindowError( strErrorMessage, strURL, intLineNumber, intColumn, objError );\n\n\t\treturn true;\n\t};\n\n\tif( typeof window.jQuery === 'undefined' ) {\n\t\tblOtherJSLibrary = ( typeof window.$ === 'function' );\n\n\t\ttwistdebug.getScript( 'https://code.jquery.com/jquery-3.2.1.slim.min.js', 'sha256-k2WSCIexGzOj3Euiig+TlR8gA0EmPjuc79OEeY5L45g=', () => {\n\t\t\tif( typeof window.jQuery === 'undefined' ) {\n\t\t\t\tconsole.error( 'This is embarrassing... jQuery couldn\\'t be loaded' );\n\t\t\t} else {\n\t\t\t\tif( !blOtherJSLibrary ) {\n\t\t\t\t\taddDebugToWindow( new twistdebug( false, arrThingsToLog ) );\n\t\t\t\t} else {\n\t\t\t\t\tconsole.warn( 'Another JS library controls $' );\n\t\t\t\t\taddDebugToWindow( new twistdebug( true, arrThingsToLog ) );\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\t} else {\n\t\tconsole.info( 'jQuery v.' + $.fn.jquery + ' already exists' );\n\t\taddDebugToWindow( new twistdebug( false, arrThingsToLog ) );\n\t}\n})( window );"],"names":["twistdebug","noConflict","arrThingsToLog","args","log","apply","console","e","info","$","window","jQuery","objErrorLog","error","title","message","url","line","column","setupUI","outputExistingAJAX","fn","jquery","objIn","intLength","mxdKey","hasOwnProperty","twist","ajax","instances","instance","requests","request","logAJAX","jqsAppendTo","strColour","mxdValue","objDetails","strURL","intLineNumber","intColumn","strLogHTML","strTitle","strDetailsHTML","JSON","stringify","undefined","strDetail","charAt","toUpperCase","slice","replace","_typeof","Date","getTime","jqoLogBox","html","append","this","objectLength","length","logToTwist","jqoErrorCount","attr","parseInt","objRequest","objRequestToLog","options","body","parse","method","$debug","resFile","objResponse","strPreview","support","uri_preview","name","jqoTwistDebugBlocks","jqoTwistDebugDetails","has","each","find","after","on","preventDefault","jqoThisBlock","hasClass","removeClass","jqsTarget","addClass","children","hide","filter","show","prev","toggle","wrap","integrity","onSuccess","domScript","document","createElement","domHead","getElementsByTagName","blDone","src","crossorigin","onload","onreadystatechange","readyState","err","removeChild","appendChild","blOtherJSLibrary","addDebugToWindow","debug","originalWindowError","onerror","strErrorMessage","objError","push","getScript","warn"],"mappings":"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"}