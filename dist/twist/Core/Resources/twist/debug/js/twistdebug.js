!function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),n=function(){function n(e){var o=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];t(this,n);try{var i=["%c %c %c TwistPHP Debug %c %c ","font-size: 15px; background: #2a5200;","font-size: 17px; background: #3f7a00;","color: #FFF; font-size: 18px; background: #539F00;","font-size: 17px; background: #3f7a00;","font-size: 15px; background: #2a5200;"];console.log.apply(console,i)}catch(t){console.info?console.info("TwistPHP Debug"):console.log("TwistPHP Debug")}var a=!0===e?window.jQuery.noConflict(!0):window.jQuery,s=!0,u=!1,d=void 0;try{for(var l,c=r[Symbol.iterator]();!(s=(l=c.next()).done);s=!0){var f=l.value;this.error(f.title,f.message,f.url,f.line,f.column,f.error)}}catch(t){u=!0,d=t}finally{try{!s&&c.return&&c.return()}finally{if(u)throw d}}window.onerror=function(t,e,n,r,i){return console.log("HAHAHAHA"),o.error("OH NOES!",t,e,n,r,i),!0},this.setupUI(),console.info("TwistPHP Debug is now loaded with jQuery v."+a.fn.jquery)}return o(n,[{key:"objectLength",value:function(t){var e=0;for(var o in t)t.hasOwnProperty(o)&&e++;return e}},{key:"logToTwist",value:function(t,o,n,r,i,a,s){if(n){var u=n||"",d="",l="";if("object"===(void 0===n?"undefined":e(n))&&(u="<pre>"+JSON.stringify(n,void 0,2)+"</pre>"),"object"===(void 0===r?"undefined":e(r)))for(var c in r)l+="<dt>"+(c.charAt(0).toUpperCase()+c.slice(1).replace("_"," "))+"</dt><dd>"+("object"===e(r[c])?"<pre>"+JSON.stringify(r[c],void 0,2)+"</pre>":r[c])+"</dd>";void 0!==i?""!==i&&(d=void 0!==a&&""!==a?void 0!==s&&""!==s?i+", line "+a+", column "+s:i+", line "+a:i):d="JavaScript ["+(new Date).getTime()+"]";var f=$('<div class="twist-debug-box-'+o+'" data-title="'+d+'"/>').html(u);return""!==l&&f.append('<div class="twist-debug-more-details"><dl>'+l+'</dl></div><a href="#twist-debug-more-details" class="twist-debug-more-details">&ctdot;</a>'),$(t).append(f),!0}return!1}},{key:"error",value:function(t,o,n,r){var i={type:void 0===t?"undefined":e(t),length:"object"===(void 0===t?"undefined":e(t))?this.objectLength(t):t.length};if(this.logToTwist("#twist-debug-messages-list","red","<p>"+t+"</p>",i,o,n,r)){var a=$("#twist-debug-errors");a.attr("data-count",parseInt(a.attr("data-count"))+1)}}},{key:"warn",value:function(t,o,n,r){var i={type:void 0===t?"undefined":e(t),length:"object"===(void 0===t?"undefined":e(t))?this.objectLength(t):t.length};if(this.logToTwist("#twist-debug-messages-list","yellow","<p>"+t+"</p>",i,o,n,r)){var a=$("#twist-debug-warnings");a.attr("data-count",parseInt(a.attr("data-count"))+1)}}},{key:"log",value:function(t,o,n,r){var i={type:void 0===t?"undefined":e(t),length:"object"===(void 0===t?"undefined":e(t))?this.objectLength(t):t.length};if(this.logToTwist("#twist-debug-messages-list","blue","<p>"+t+"</p>",i,o,n,r)){var a=$("#twist-debug-dumps");a.attr("data-count",parseInt(a.attr("data-count"))+1)}}},{key:"logAJAX",value:function(t,e,o){var n={type:o.type,URL:o.url,timeout:o.timeout,cache:o.cache,request_data:o.data};if(this.logToTwist("#twist-debug-ajax-list",t?"green":"red",e,n,o.type+" "+o.url)){var r=$("#twist-debug-ajax-count");r.attr("data-count",parseInt(r.attr("data-count"))+1)}}},{key:"logFileUpload",value:function(t,e){var o=e.support&&e.support["thumb-128"]?e.support["thumb-128"]:e.uri_preview,n="<pre>"+JSON.stringify(e,void 0,2)+'</pre><div class="twist-debug-fileupload-preview"><img src="'+o+'"></div>';if(this.logToTwist("#twist-debug-fileupload-list","green",n,t,t.name)){var r=$("#twist-debug-fileupload-count");r.attr("data-count",parseInt(r.attr("data-count"))+1)}}},{key:"setupUI",value:function(){var t=$("#twist-debug-blocks"),e=$("#twist-debug-details");$('.twist-debug-box, [class^="twist-debug-box-"], [class*=" twist-debug-box-"]').has(".twist-debug-more-details").each(function(){$(this).find(".twist-debug-more-details").after('<a href="#twist-debug-more-details" class="twist-debug-more-details">&ctdot;</a>')}),t.on("click","a",function(o){o.preventDefault();var n=$(this);if(n.hasClass("current"))e.removeClass("show"),n.removeClass("current");else{var r=n.attr("href");e.addClass("show").children("div").hide().filter(r).show(),t.find("a.current").removeClass("current"),n.addClass("current")}}),$("#close-twist-debug-details").on("click",function(o){o.preventDefault(),t.find("a.current").removeClass("current"),e.removeClass("show")}),e.on("click",'a[href="#twist-debug-more-details"]',function(t){t.preventDefault(),$(this).prev(".twist-debug-more-details").slideToggle()}),e.find("table").wrap('<div class="table-wrapper"/>'),$("#twist-debug").addClass("ready")}}],[{key:"getScript",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=document.createElement("script"),r=document.getElementsByTagName("head")[0],i=!1;o="function"==typeof e?e:"function"==typeof o?o:function(){},n.src=t,n.crossorigin="anonymous",n.onload=n.onreadystatechange=function(){if(!(i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)){i=!0;try{o()}catch(t){console.error(t)}n.onload=n.onreadystatechange=null,r.removeChild(n)}},r.appendChild(n)}}]),n}();!function(t,e){var o=!1,r=[],i=function(e){t.twist?t.twist.debug=e:t.twist={debug:e}};t.onerror=function(t,e,o,n,i){return r.push({message:"<strong>JS Error:</strong> "+t,url:e,line:o,column:n,error:i}),!0},void 0===t.jQuery?(o="function"==typeof t.$,n.getScript("https://code.jquery.com/jquery-3.2.1.slim.min.js","sha256-k2WSCIexGzOj3Euiig+TlR8gA0EmPjuc79OEeY5L45g=",function(){void 0===t.jQuery?console.error("This is embarrassing... jQuery couldn't be loaded"):o?(console.warn("Another JS library controls $"),i(new n(!0,r))):i(new n(!1,r))})):(console.info("jQuery v."+$.fn.jquery+" already exists"),i(new n(!1,r)))}(window)}();
//# sourceMappingURL=twistdebug.js.map
